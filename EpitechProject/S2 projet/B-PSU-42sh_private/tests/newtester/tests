[001]
NAME="Nothing"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo ''
[001-END]

[002]
NAME="basic command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '/bin/rm -fr /tmp/.42history'
  echo 'ls /etc'
  echo 'cat /etc/resolv.conf'
[002-END]

[003]
NAME="Testing with and without /usr/bin PATH"
SETUP="export TERM=xterm ; PATH='/usr/bin'"
CLEAN=""
TESTS=
  echo 'usr/bin/pwd'
  echo 'pwd'
[003-END]

[004]
NAME="Testing with and without /bin PATH"
SETUP="export TERM=xterm ; PATH='/bin'"
CLEAN=""
TESTS=
  echo '/bin/ls'
  echo 'ls'
[004-END]

[005]
NAME="run commands"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cat /etc/resolv.conf'
  sleep 0.5
  echo 'ls -l /etc'
  sleep 0.5
  echo 'pwd'
[005-END]

[006]
NAME="setenv and unsetenv"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'unsetenv HOSTTYPE'
  echo 'unsetenv VENDOR'
  echo 'unsetenv OSTYPE'
  echo 'unsetenv MACHTYPE'
  echo 'unsetenv SHLVL'
  echo 'unsetenv PWD'
  echo 'unsetenv LOGNAME'
  echo 'unsetenv USER'
  echo 'unsetenv GROUP'
  echo 'unsetenv HOST'
  echo 'unsetenv REMOTEHOST'
  echo 'unsetenv _'
  echo 'unsetenv LS_COLORS'
  echo 'unsetenv NOTE'
  echo 'setenv titi'
  echo 'setenv tata coucou'
  echo 'env'
  echo '/usr/bin/env'
  echo 'setenv var1 val1'
  echo 'setenv var2 val2'
[006-END]

[007]
NAME="Testing buildin cd"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cd ..'
  echo 'ls -l'
  echo 'cd /usr'
  echo 'ls -l'
  echo 'cd -'
  echo 'ls -l'
  echo 'pwd'
[007-END]

[008]
NAME="Testing commands with many tabs and space"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "\t\t    ls\t     \t-l    \t\t  \t -a /usr   \t\t"
  echo -e "\t\t             cd          \t ../"
  echo -e "\t\t   pwd     "
[008-END]

[009]
NAME="Launch program with and without core dump"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "./my_divzero"
  echo "./segfault"
[009-END]

[010]
NAME="Testing exit function"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'exit 45'
[010-END]

[011]
NAME="Testing cd without arguments"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cd'
  echo 'pwd'
  echo 'ls -l'
  echo 'cd -'
  echo 'ls -l'
  echo 'cd'
  echo 'pwd'
[011-END]

[012]
NAME="Launch a program segfaulting"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'su -s'
  echo './segfault'
[012-END]

[013]
NAME="Testing create, delete, navigate FILE"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'mkdir newdir'
  echo 'cd newdir'
  echo 'touch newfile'
  echo 'touch Newfile'
  echo 'touch aewfile'
  echo 'touch Aewfile'
  echo 'touch zewfile'
  echo 'touch Zewfile'
  echo 'pwd'
  echo 'ls -l'
  echo 'rm newfile'
  echo 'rm Newfile'
  echo 'rm aewfile'
  echo 'rm Aewfile'
  echo 'rm zewfile'
  echo 'rm Zewfile'
  echo 'cd ..'
  echo 'rm -fr newdir'
  echo 'ls -l'
[013-END]

[014]
NAME="Testing cd errors"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cd bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbr'
  echo 'cd ezmlivypimgeaouvgzjv'
[014-END]

[015]
NAME="RE-Testing cd error"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cd ezmlivypimgeaouvgzjv'
  echo 'pwd'
  echo 'ls -l'
[015-END]

[016]
NAME="Testing invalid exit"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'exit blablzoeuy'
  echo 'echo $?'
  echo 'exit 3 ezouvẑo'
  echo 'echo $?'
  echo 'exit 55'
[016-END]

[017]
NAME="Re-Testing exit error"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'exit 3 ezouvẑo'
[017-END]

[018]
NAME="Launch tcsh in ./mysh"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'tcsh'
  echo 'exit 3'
  echo 'echo $?'
[018-END]

[019]
NAME="Launch ./mysh in ./mysh"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo './mysh'
  echo 'exit 3'
  echo 'echo $?'
[019-END]

[020]
NAME="Launch ./mysh in tcsh in ./mysh (./mysh -> tcsh -> ./mysh)"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'tcsh'
  echo 'echo $?'
  echo './mysh'
  echo 'exit'
  echo 'echo $?'
  echo 'exit'
[020-END]

[021]
NAME="Testing unsetenv function"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'unsetenv HOSTTYPE ez^rpçoyilua'
  echo 'unsetenv VENDORzaiuey'
  echo 'unsetenv OSTY=PE'
  echo 'unsetenv MACHTYPEzmaeu'
[021-END]

[022]
NAME="Testing setenv function"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'setenv HOSTTYPE ez^rpçoyilua'
  echo 'setenv VENDORzaiuey'
  echo 'setenv OSTY=PE'
  echo 'setenv MACHTYPEzmaeu'
[022-END]

[023]
NAME="Testing unsetenv without arguments"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'unsetenv'
[023-END]

[024]
NAME="Testing unsetenv many things"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'unsetenv HOSTTYPE'
  echo 'unsetenv VENDOR'
  echo 'unsetenv OSTYPE'
  echo 'unsetenv MACHTYPE'
  echo 'unsetenv SHLVL'
  echo 'unsetenv PWD'
  echo 'unsetenv LOGNAME'
  echo 'unsetenv USER'
  echo 'unsetenv GROUP'
  echo 'unsetenv HOST'
  echo 'unsetenv REMOTEHOST'
  echo 'unsetenv _'
  echo 'unsetenv LS_COLORS'
  echo 'unsetenv NOTE'
  echo 'setenv'
[024-END]

[025]
NAME="Testing unset many things"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'unsetenv imarg two three'
[025-END]

[026]
NAME="Testing setenv bad things"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'setenv imarg two three'
[026-END]

[027]
NAME="unsetenv many things"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'unsetenv HOSTTYPE'
  echo 'unsetenv VENDOR'
  echo 'unsetenv OSTYPE'
  echo 'unsetenv MACHTYPE'
  echo 'unsetenv SHLVL'
  echo 'unsetenv PWD'
  echo 'unsetenv LOGNAME'
  echo 'unsetenv USER'
  echo 'unsetenv GROUP'
  echo 'unsetenv HOST'
  echo 'unsetenv REMOTEHOST'
  echo 'unsetenv _'
  echo 'unsetenv LS_COLORS'
  echo 'unsetenv NOTE'
  echo 'env'
[027-END]

[028]
NAME="Launch /path"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo '/dev'
[028-END]

[029]
NAME="Launch permission denied /path"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo '/dev/mem'
[029-END]

[030]
NAME="Launch unknown /path"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo '/devearzueianiurm'
[030-END]

[031]
NAME="Testing executing command with path"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo '../tester/./mysh'
  echo './mysh'
  echo 'exit'
  echo 'caca.c'
[031-END]

[032]
NAME="Testing execute few hard command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cd ..'
  echo 'ls /tester'
  echo 'pwd'
  echo 'ls -a -R'
  echo 'echo $?'
  echo 'caca.c'
  echo '.././tester.sh'
  echo 'echo $?'
[032-END]

[033]
NAME="Testing executing command with it path"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '/usr/bin/ls -a'
  echo '/bin/ls /dev/mem/'
[033-END]

[034]
NAME="Testing multiple nothing"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo ''
  echp ''
[034-END]

[035]
NAME="Exec two command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls /etc'
  echo 'cat /etc/resolv.conf'
[035-END]

[036]
NAME="Testing with /usr/bin PATH"
SETUP="export TERM=xterm ; PATH='/usr/bin'"
CLEAN=""
TESTS=
  echo 'pwd'
[036-END]

[037]
NAME="Testing with /bin PATH"
SETUP="export TERM=xterm ; PATH='/bin'"
CLEAN=""
TESTS=
  echo 'pwd'
[037-END]

[038]
NAME="run commands"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cat /etc/resolv.conf'
  sleep 0.5
  echo 'ls -l /etc'
  sleep 0.5
  echo 'pwd'
[038-END]

[039]
NAME="setenv and unsetenv"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RID ; export MYBG=4 ; export LVL=4 ; export NOTE=2"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'unsetenv HOSTTYPE'
  echo 'unsetenv VENDOR'
  echo 'unsetenv OSTYPE'
  echo 'unsetenv MACHTYPE'
  echo 'unsetenv SHLVL'
  echo 'unsetenv PWD'
  echo 'unsetenv LOGNAME'
  echo 'unsetenv USER'
  echo 'unsetenv GROUP'
  echo 'unsetenv HOST'
  echo 'unsetenv REMOTEHOST'
  echo 'unsetenv _'
  echo 'unsetenv LS_COLORS'
  echo 'unsetenv NOTE'
  echo 'setenv titi'
  echo 'setenv tata coucou'
  echo 'env'
  echo '/usr/bin/env'
  echo 'setenv var1 val1'
  echo 'setenv var2 val2'
[039-END]

[040]
NAME="builtin cd"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cd ..'
  echo 'ls -l'
  echo 'cd /usr'
  echo 'ls -l'
[040-END]

[041]
NAME="many tab and space"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "\t\t    ls\t     \t-l    \t\t  \t -a /usr   \t\t"
[041-END]

[042]
NAME="Launch DivZero program with core dump"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "./my_divzero"
[042-END]

[043]
NAME="Launch SegFault program without core dump"
SETUP="ulimit -c 0 ; export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "./my_segfault"
[043-END]

[044]
NAME="Testing simple pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls -l /etc | grep sh"
[044-END]

[045]
NAME="A pipe with a builtin ?"
SETUP="export VAR1=VALEUR1 ; OLDPATH=$PATH ; PATH='/random'"
CLEAN="PATH=$OLDPATH"
TESTS=
  echo 'setenv | /bin/grep VAR1'
  echo '/bin/ls | cd /usr'
  echo 'ls -l'
  echo 'exit 45|cat /etc/resolv.conf'
[045-END]

[046]
NAME="Testing execute basic command with SEMICOLON"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN="PATH=$OLDPATH"
TESTS=
  echo 'ls; -l; cd nofile; ls -la; pwd; cd ..'
[046-END]

[047]
NAME="Testing execute some command with SEMICOLON"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN="PATH=$OLDPATH"
TESTS=
  echo 'ls -l; echo $?; cd nofile; echo $?; pwd; echo $?; cd ..; echo $?; pwd; echo $?; ls .; echo $?'
[047-END]

[048]
NAME="Testing execute command with many tabs and SEMICOLON"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN="PATH=$OLDPATH"
TESTS=
  echo 'ls        -l        ;  cd nofile; echo $?         ;       cd          '
  echo '         echo $?;              pwd; echo $?; cd ..; echo $?; pwd;          echo $?; ls .; echo $? '
[048-END]

[049]
NAME="Testing buildin cd with SEMICOLON"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cd ..; pwd; ls; ls -al; cd -; pwd'
[049-END]

[050]
NAME="Testing basic PIPE command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '/bin/ls -la /dev | cat -e'
[050-END]

[051]
NAME="Testing command with it path with PIPE and SEMICOLON"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '/bin/ls -la /dev | /bin/cat -e; ./mysh | cat -e; exit 4'
[051-END]

[052]
NAME="Testing too few redirection with PIPE"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '/bin/ls -la /dev | /bin/cat -e < test.txt < test.txt'
[052-END]

[054]
NAME="Testing injection in many order"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '< ../../Makefile cat| cat -e < Makefile'
[054-END]

[055]
NAME="/bin/cat /bin/cat >mycat; ./mycat Makefile; /bin/rm -f mycat"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '/bin/cat /bin/cat >mycat; chmod 755 mycat; ./mycat Makefile; /bin/rm -f mycat'
[055-END]

[056]
NAME="/bin/ls > test.txt; cat -e test.txt"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '/bin/ls > test.txt; cat -e test.txt; rm -fr test.txt'
[056-END]

[057]
NAME="Test redirection with inhibitors"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'/bin/ls' > 'test.txt'; cat -e 'test.txt'; rm -fr 'test.txt'"
[057-END]

[058]
NAME="Testing ls|ls|cat -e"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls | ls | cat -e'
[058-END]

[059]
NAME="Testing ls | wc -c"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls | wc -c'
[059-END]

[060]
NAME="few commands ';' and '|'"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls'
  echo 'mkdir mytest; cd mytest; touch tutu; ls -a; ls | cat | wc -l > tutu; cat tutu; ls; cd ..; pwd; rm -fr mytest; pwd'
[060-END]

[061]
NAME="grep | test"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'grep | cat -e'
  echo 'ls'
[061-END]

[062]
NAME="command with pipe and tests"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls | grep tests'
[062-END]

[063]
NAME="Redirection with stdout and stderr"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls /etc > output.txt 2> error.txt'
  echo 'cat output.txt'
  echo 'cat error.txt'
[063-END]

[064]
NAME="Pipe commands"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls -l /etc | grep "bash"'
  echo 'cat /etc/passwd | grep root'
[064-END]

[065]
NAME="Pipe commands with quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'ls' -l /etc | grep bash"
  echo "'cat' /etc/passwd | grep root"
[065-END]

[066]
NAME="Testing quoting and redirection"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls /etc/resolv.conf'
  echo 'ls /etc/.conf'
  echo 'ls /etc/resolv.conf > output.txt'
  echo 'cat output.txt'
  echo 'rm output.txt'
[066-END]

[067]
NAME="Testing quoting and redirection"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'echo Hello > output.txt'
  echo 'echo Goodbye > output.txt'
  echo 'cat output.txt'
  echo 'rm output.txt'
[067-END]

[068]
NAME="cat a file using pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "cat /home/romain/.42shrc | cat -e | wc -l"
  echo "echo $?"
[068-END]

[069]
NAME="Using the history feature"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls -l /etc"
[069-END]

[070]
NAME="Testing multiple pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls /usr/bin | grep zip | sort | head -n'
[070-END]

[071]
NAME="Redirection simple : écrire dans un fichier"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo Hello World! > output.txt"
  echo 'cat output.txt'
  echo 'rm -fr output.txt'
[071-END]

[072]
NAME="Redirection simple : écrire dans un fichier existant (écraser)"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo Salut! > existing.txt"
  echo 'cat existing.txt'
  echo 'rm existing.txt'
[072-END]

[073]
NAME="Redirection simple : lire depuis un fichier"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'echo bonjour > input.txt'
  echo 'cat input.txt'
  echo 'rm input.txt -fr'
[073-END]

[074]
NAME="Redirection double : ajouter du contenu à un fichier"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'Bonjour' > double_output.txt"
  echo "echo Hello! >> double_output.txt"
  echo "cat double_output.txt"
  echo "echo World! >> double_output.txt"
  echo "cat double_output.txt"
  echo "rm double_output.txt"
[074-END]

[075]
NAME="Redirection with quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'pwd' | 'cat' -e > 'files.txt'"
  echo "cat files.txt"
  echo "rm 'files.txt' -fr"
[075-END]

[076]
NAME="écrire dans un fichier à partir d'une commande avec pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'pwd | cat -e > files.txt'
  echo "cat files.txt"
  echo 'rm -fr files.txt'
[076-END]

[077]
NAME="utiliser un fichier comme entrée avec une commande avec pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo 'Hello World!' > input_pipe.txt"
  echo "cat input_pipe.txt | grep World"
[077-END]

[078]
NAME="combiner entrée et sortie avec des pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'cat input_pipe.txt | grep World > output_pipe.txt'
  echo "cat output_pipe.txt"
  echo "rm output_pipe.txt"
[078-END]

[079]
NAME="utilisation de plusieurs pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'touch oui.txt'
  echo 'rm -f *.txt'
  echo 'ls -a'
  echo 'find / -name 42sh | grep 42sh | sort > sorted_files.txt'
  echo "less sorted_files.txt"
  echo "rm -fr *.txt"
[079-END]

[080]
NAME="combiner plusieurs entrées avec des pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin' ; echo 'Bonjour' > input_pipe1.txt ; echo 'Hello' > input_pipe2.txt"
CLEAN=""
TESTS=
  echo "cat input_pipe1.txt input_pipe2.txt | sort"
  echo "rm input_pipe1.txt input_pipe2.txt"
[080-END]

[081]
NAME="utiliser un fichier comme entrée pour plusieurs commandes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin' ; echo 'Hello World!' > input_multiple_commands.txt"
CLEAN=""
TESTS=
  echo "cat input_multiple_commands.txt | grep World | sed s/World/Everyone/"
  echo "rm input_multiple_commands.txt"
[081-END]

[082]
NAME="combiner plusieurs commandes avec redirections"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo Bonjour > bonjour.txt ; cat bonjour.txt | sed s/Bonjour/Hello/"
  echo "rm bonjour.txt"
[082-END]

[083]
NAME="tester la priorité des opérateurs"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'echo "Bonjour" > bonjour.txt | cat bonjour.txt'
  echo 'cat bonjour.txt | grep Bonjour > hello.txt'
  echo 'cat hello.txt'
  echo 'rm bonjour.txt hello.txt'
[083-END]

[084]
NAME="combiner redirection et pipe dans une commande"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'echo "Bonjour" > bonjour.txt | cat < bonjour.txt'
  echo 'rm bonjour.txt'
[084-END]

[085]
NAME="tester les erreurs de redirection"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'touch oui.txt'
  echo 'rm -f *.txt'
  echo "rm -fr /tmp/nonexistent_directory"
  echo "mkdir /tmp/nonexistent_directory"
  echo 'echo Bonjour > /tmp/nonexistent_directory/bonjour.txt'
  echo 'cat /tmp/nonexistent_directory/bonjour.txt'
  echo  'rm /tmp/nonexistent_directory/bonjour.txt'
[085-END]

[086]
NAME="tester les erreurs de pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'touch oui.txt'
  echo 'rm -f *.txt'
  echo 'cat non_existent_file | grep test'
  echo 'cat non_existent_file | grep test | wc -l'
[086-END]

[087]
NAME="tester les erreurs de commande avec pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'non_existent_command | grep test'
[087-END]

[088]
NAME="combiner plusieurs opérateurs de redirection"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'echo "Bonjour" > bonjour.txt > bonjour2.txt'
  echo 'cat bonjour.txt'
  echo 'cat bonjour2.txt'
  echo 'rm bonjour.txt bonjour2.txt'
[088-END]

[089]
NAME="combiner plusieurs pipes et redirections"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls -l | grep tester.sh | sort > sorted_files.txt | cat sorted_files.txt'
  echo 'rm sorted_files.txt'
[089-END]

[090]
NAME="tester les combinaisons complexes de redirections et de pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'echo "Bonjour" > bonjour.txt | cat bonjour.txt | grep Bonjour | sed 's/Bonjour/Hello/' > hello.txt | cat hello.txt'
  echo 'rm bonjour.txt hello.txt'
[090-END]

[091]
NAME="combiner redirection, pipe et exécution de programme"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'echo "Bonjour" > bonjour.txt | cat bonjour.txt | grep Bonjour | sed 's/Bonjour/Hello/' | wc -l'
  echo 'rm bonjour.txt hello.txt'
[091-END]

[092]
NAME="tester les commandes avec des espaces"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'echo "Bonjour   le   monde" > bonjour.txt | cat bonjour.txt | grep monde'
  echo 'rm bonjour.txt'
[092-END]

[093]
NAME="tester les commandes avec des guillemets"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo "
[093-END]

[094]
NAME="Testing redirection before other pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo 'Bonjour le monde' > bonjour.txt | cat bonjour.txt | grep monde"
[094-END]

[095]
NAME="Testing pipe without arguments"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo 'Bonjour le monde' |"
[095-END]

[096]
NAME="Testing && args"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls; ls && pwd"
  echo "ls; cd .. && ls && cd -; ls"
[096-END]

[097]
NAME="Testing && args with alias"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias ls 'ls -l'"
  echo "ls"
  echo "alias ls 'ls'"
  echo "ls"
  echo "alias pwd 'ls -l'"
  echo "pwd && alias pwd pwd; pwd"
[097-END]

[098]
NAME="Testing && args with alias and pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls && alias ls "ls -l" && ls | cat -e && alias ls ls && ls -al | cat -e'
[098-END]

[099]
NAME="Testing && args with alias and pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias ls ls --color=auto"
  echo 'ls && alias ls "ls -l" && ls | cat -e && alias ls ls && ls -lR | cat -e'
  echo 'ls && pwd && ls nofile'
  echo 'ls && cat nothing | cat -e && pwd; ls && ls nofile'
[099-END]

[100]
NAME="Testing quotes with redirection"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'"
  echo '"'
  echo "echo 'romain et jules' > 'test.txt'"
  echo "cat 'test.txt'"
  echo "rm 'test.txt' -fr"
[100-END]

[101]
NAME="Testing quotes with redirection"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'echo' 'je suis jules' > julos.txt"
  echo "cat 'julos.txt'"
  echo "'rm' 'julos.txt'"
[101-END]

[102]
NAME="Testing gobblings with star"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls ../src/*.c"
[102-END]

[103]
NAME="Testing gobblings with '?'"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "cat ../????.?"
[103-END]

[104]
NAME="Testing gobblings with []"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls ../put_fct/[m]*.c"
[104-END]

[105]
NAME="Testing gobblings with all"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls ../src/??[o, e, c]*.c"
[105-END]

[106]
NAME="Testing globings with rm *"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls; touch okay; rm o[k]*; ls"
[106-END]

[107]
NAME="Testing alias with all"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias ls pwd"
  echo "ls"
  echo "pwd"
  echo "alias ls"
  echo "alias"
  echo "alias ls ls"
  echo "ls"
[107-END]

[108]
NAME="Testing error pipe redirection file quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "nothing | cat -e > ' test.txt'"
  echo '"ls"'
  echo "ls | cat -e; pwd; ls <../../Makefile | cat -e > test.txt"
  echo "rm -fr *.txt"
[108-END]

[109]
NAME="Testing advanced pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "/bin/cat <'/bin/cat' > 'mycat'; chmod 777 'mycat'; ls | ./mycat -e"
  echo "/bin/cat /bin/ls > myls; chmod 777 myls; ./myls | ./mycat -e"
  echo "rm mycat; rm myls"
[109-END]

[110]
NAME="Testing echo redirection"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo main.c > text_main; ls < text_main; cat text_main; rm text_main"
[110-END]

[111]
NAME="Testing ls injection"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls; ls < main.c; ls"
  echo "ls; ls < ../../main.c; ls"
[111-END]

[112]
NAME="Testing injection cat"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "cat <Makefile | cat -e"
[112-END]

[113]
NAME="Testing injection with pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo < '../../Makefile' | cat -e | wc -c"
[113-END]

[114]
NAME="Testing injection with redi"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "pwd < 'main.c' > 'redi.txt'"
  echo "cat 'redi.txt'"
  echo "rm -fr 'redi.txt'"
[114-END]

[115]
NAME="Testing pipe injection with semicolon"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "pwd; 'ls'"
  echo "'ls' <main.c | cat -e; pwd; pwd | cat -e | wc -c && ls"
  echo "'pwd' | 'cat' '-e' | 'wc' '-c' >> 'pqpas.txt'"
  echo "cat pqpas.txt | cat -e"
  echo "rm pqpas.txt"
[115-END]

[116]
NAME="Testing basics pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "pwd | cat -e"
  echo "ls; ls; ls | cat -e"
  echo ">test.txt"
  echo "ls > test.txt <test.txt"
[116-END]

[117]
NAME="Testing quotes files"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls | cat -e | wc -c"
  echo "touch 'apagnan' && touch 'pq quoicoubeuh'"
  echo "cat 'apagnan' && cat 'pq quoicoubeuh'"
  echo "rm apagnan && rm pq*"
  echo "ls"
[117-END]

[118]
NAME="Testing injection with pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls <../../main.c | cat -e | wc -c"
  echo "echo 'ls'"
[118-END]

[119]
NAME="Testing redi with pipe"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo 'ls' | cat -e > ls.txt;"
  echo "echo 'ls.txt' >> ls.txt"
  echo "cat ls.txt | cat -e | wc -c >> 'ls.txt'"
  echo "cat ls.txt"
  echo "rm ls.txt"
  echo "ls"
[119-END]

[120]
NAME=""
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo 'jules le dbg' > jules.txt"
  echo "ls"
  echo "cat jules.txt"
  echo "rm jules.*"
[120-END]

[124]
NAME="Test basic esperluette"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias ls pwd && ls"
  echo "ls nofile && ls"
  echo "nothing && ls"
[124-END]

[125]
NAME="Test advanced esperluette"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls && ls | cat -e"
  echo "ls && ls /dev | grep root && find / -perm -4000 | grep usr"
  echo "ls nofile && unknow"
  echo "nothing"
  echo "echo 'ls' && echo 'apagnan'"
[125-END]

[126]
NAME="Test advanced esperluette"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls && ls | cat -e"
  echo "ls * && ls"
  echo "ls *.w && ls | cat -e"
[126-END]

[127]
NAME="Test advanced esperluette"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls && ls | cat -e; pwd"
  echo "ls * && ls"
  echo "ls *.w && ls | cat -e"
  echo "ls && || ls | cat -e; pwd"
[127-END]

[128]
NAME="Test which function"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "which ls"
  echo "which cat"
  echo "which m"
  echo "which julos"
  echo "which /bin/ls"
[128-END]

[129]
NAME="Test which advanced function"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias ls 'ls --color=auto'"
  echo "which ls cat"
  echo "which cat ls"
  echo "which m cat"
  echo "which julos | cat -e"
  echo "which /bin/ls | wc -c | cat -e"
[129-END]

[130]
NAME="Test basic double pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias ls pwd || ls"
  echo "ls nofile || ls"
  echo "nothing || ls"
[130-END]

[131]
NAME="Test advanced double pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls || ls | cat -e"
  echo "ls || ls /dev | grep root || find / -perm -4000 | grep usr"
  echo "ls nofile || unknow"
  echo "nothing"
  echo "echo 'ls' || echo 'apagnan'"
[131-END]

[132]
NAME="Test advanced double pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls || ls | cat -e"
  echo "ls * || ls"
  echo "ls *.w || ls | cat -e"
[132-END]

[133]
NAME="Test advanced double pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls || ls | cat -e; pwd"
  echo "ls * || ls"
  echo "ls *.w || ls | cat -e"
  echo "rm *history && rm -fr tutu"
[133-END]

[134]
NAME="Test advanced double pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls || ls | cat -e; pwd"
  echo "ls * || ls"
  echo "ls *.w || ls | cat -e"
  echo "ls nofile && ls || ls"
[134-END]

[135]
NAME="Test advanced double pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls nofile && ls || ls"
[135-END]

[136]
NAME="Test advanced double pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls && ls nofile || ls | cat -e; pwd"
  echo "ls || ls | cat -e"
  echo "ls nofile || ls | cat -e; pwd"
  echo "ls && || ls | cat -e"
  echo "ls && || ls | cat -e; pwd"
[136-END]

[137]
NAME="Test simple where"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "where"
  echo "where ls"
  echo "where /bin/ls"
  echo "where cat"
  echo "where pwd"
[137-END]

[138]
NAME="Test advanced where"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "rm -fr /tmp/.42history"
  echo "where | cat -e"
  echo "where ls nothing"
  echo "where /bin/ls | cat -e"
  echo "where cat /bin/cat"
  echo "where pwd ls cat unknown"
[138-END]

[139]
NAME="Test alias looping"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias ls pwd"
  echo "alias pwd ls"
  echo "alias ls ls"
  echo "ls"
  echo "alias ls pwd"
  echo "ls"
  echo "toto"
[139-END]

[140]
NAME="Test alias before looping"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias"
  echo "alias ls ls -l"
  echo "ls"
  echo "alias ls ls --color=auto"
  echo "ls"
  echo "alias ls pwd"
  echo "alias ls"
  echo "alias ls ls"
  echo "alias pwd pwd"
  echo "alias ls pwd"
  echo "alias pwd ls"
  echo "ls -l"
  echo "toto"
[140-END]

[141]
NAME="Delete"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "rm -fr /tmp/.42history"
  echo "rm -fr tutu"
[141-END]

[142]
NAME="Test alias of alias"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias ls ls --color=auto"
  echo "alias ls"
  echo "alias toto ls"
  echo "echo"
  echo "alias toto"
  echo "echo"
  echo "ls"
  echo "alias tutu toto -l"
  echo "tutu"
  echo "alias tutu tutu -m"
  echo "tutu"
[142-END]

[143]
NAME="Test alias of alias"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias ls ls --color=auto"
  echo "ls"
  echo "alias tutu ls -a"
  echo "alias toto tutu -m"
  echo "alias tutu -m -a"
  echo "tutu"
  echo "alias ls ls tutu"
  echo "ls"
[143-END]

[144]
NAME="Test job control no timed command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "xeyes &"
  echo "fg"
  echo "fg"
[144-END]

[145]
NAME="Test job control no timed command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "xeyes &"
  echo "bg"
  echo "bg"
[145-END]

[146]
NAME="Test job control timed command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "sleep 3 &"
  echo "bg"
  echo "bg"
[146-END]

[147]
NAME="Test job control timed command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "sleep 3 &"
  echo "fg"
  echo "fg"
[147-END]

[148]
NAME="Test job control not a command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "sdfghbvd &"
  echo "fg"
  echo "fg"
[148-END]

[149]
NAME="Test job control with param"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "xeyes &"
  echo "sleep 3 &"
  echo "fg %1"
  echo "fg"
[149-END]

[150]
NAME="Test job control with param 2"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "xeyes &"
  echo "sleep 3 &"
  echo "fg %2"
  echo "fg"
[150-END]

[151]
NAME="Test job control with param 3"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "xeyes &"
  echo "sleep 3 &"
  echo "bg %2"
  echo "fg"
[151-END]

[152]
NAME="Test job control with esperluette"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls && sleep 3 &"
[152-END]

[153]
NAME="Test job control with error esperluette"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls nofile && sleep 3 &"
[153-END]

[154]
NAME="Test job control with OR"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls || sleep 3 &"
[154-END]

[155]
NAME="Test job control with error OR"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls nofile || sleep 3 &"
[155-END]

[156]
NAME="Test quotes setenv"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "setenv oui '   s   t  i   tt   ii     ' "
  echo "setenv oui '   s   t  i   tt   ii     ' "
  echo "env | grep  'oui'"
[156-END]

[157]
NAME="Testing double quotes with globbings"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls *.sh"
  echo -e "ls \"*.sh\""
[157-END]

[158]
NAME="Testing single quotes with globbings"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls ../../*.sh"
  echo "ls '../../*.sh'"
[158-END]

[159]
NAME="Testing missing single quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "' ls"
[159-END]

[160]
NAME="Testing cmd with quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'ls' | 'cat' '-e' | wc -c"
  echo "echo 'ls'"
[160-END]

[161]
NAME="Testing set function error begin"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set oui=stiti"
  echo "set 'oui'=stiti"
[161-END]

[162]
NAME="Testing set function error alphanum"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set oui=stiti"
  echo "set ou'i'=stiti"
[162-END]

[163]
NAME="Testing quote with command path"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'/bin/ls' '-l'"
  echo "'/bin/ls' -l"
  echo "'pwd' > 'je suis jules'"
  echo "ls"
  echo "cat 'je suis jules'"
  echo "/bin/rm 'je suis jules' -fr"
[163-END]

[164]
NAME="Testing quote errors with setenv"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "setenv 'oui' 'stiti'"
  echo "env"
[164-END]

[165]
NAME="Testing quotes with setenv"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "setenv oui '  stiti o p    i  '"
  echo "env | grep oui"
  echo 'env | grep "oui"'
  echo "env | grep 'oui'"
[165-END]

[166]
NAME="Testing sticked quotes with setenv"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "setenv oui'stiti'"
  echo "env"
[166-END]

[167]
NAME="Testing cd function with quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "mkdir oui"
  echo "cd 'oui'"
  echo "pwd"
  echo "cd '..'"
  echo "pwd"
  echo "rm -rf oui"
  echo "cd 'oui'"
[167-END]

[168]
NAME="Testing which function with quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "which 'ls'"
  echo "which 'cat'"
  echo "which 'cd'"
  echo "which cd"
  echo "which 'julos'"
  echo "which '/bin/ls'"
[168-END]

[169]
NAME="Testing where function with quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "where 'ls'"
  echo "where 'cat'"
  echo "where 'cd'"
  echo "where cd"
  echo "where 'julos'"
  echo "where '/bin/ls'"
[169-END]

[170]
NAME="Test quotes setenv"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "setenv oui '    s   t  i   tt   ii     '"
  echo "env | grep 'oui'"
  echo "env | grep oui"
[170-END]

[171]
NAME="Testing quotes with setenv"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "setenv 'oui' stiti"
  echo "env"
[171-END]

[172]
NAME="Testing single quotes with globbings"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls *.sh"
  echo "ls '*.sh'"
[172-END]

[173]
NAME="Testing missing single quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo 'OUI \" Bonjour moi c \" jules"
[173-END]

[174]
NAME="Testing missing double quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \"OUI' Bonjour moi c\'est jules"
[174-END]

[175]
NAME="Testing double quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \"OUI' 'Bonj'our' moi' c'est 'jules\""
[175-END]

[176]
NAME="Testing single quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo 'OUI\" \"Bonj\"our\" moi\" c\"est \"jules'"
[176-END]

[177]
NAME="Testing quote with command path"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'/bin/ls' '-l'"
  echo "'/bin/ls' -l"
  echo "'/bin/ls' <'main.c'"
  echo "'/bin/ls' <'../../main.c'"
[177-END]

[178]
NAME="Testing quote with command path"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'/bin/ls' '-l'"
  echo "'/bin/ls' -l"
  echo "'pwd' > 'je suis jules'"
  echo "ls"
  echo "rm 'je suis jules'"
[178-END]

[179]
NAME="Testing quote with command path"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "/bin/ls <../../Makefile"
  echo "'/bin/pwd -a' '>apagnan'"
  echo "'/bin/pwd'"
  echo "'/bin/ls'"
  echo "'/bin/cat ../../main.c' > 'je suis jules'"
  echo "ls"
[179-END]

[180]
NAME="Testing globbings"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "pwd *"
  echo "ls '*'"
[180-END]

[181]
NAME="Testing globbings"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'/bin/ls' *"
  echo "'/bin/ls' -l | grep .gitignore"
  echo "ls -l"
  echo "'apagnan'"
[181-END]

[182]
NAME="Testing quotes with commands"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "\"ls\""
  echo "'ls -a'"
  echo "ls '-a'"
  echo "cat '../../Makefile ../../main.c'"
[182-END]

[183]
NAME="Testing quotes redirection and command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'echo "apagnan" > "apagnan.txt"; "cat" "apagnan.txt"'
  echo 'ls'
  echo "pwd"
  echo "echo $? | cat -e"
  echo "'apagnan' | cat -e"
  echo "pwd | cat -e | wc -c >> 'apagnan.txt'"
  echo 'rm "apagnan.txt"'
[183-END]

[184]
NAME="Testing set function error alphanum"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set oui=stiti"
  echo "set ou'i'=stiti"
  echo 'set'
[184-END]

[185]
NAME="Testing delete file with space"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls"
  echo "touch 'je suis 42sh'"
  echo "ls"
  echo "rm 'je suis 42sh'"
  echo "ls"
[185-END]

[186]
NAME="Testing precmd"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls"
  echo "alias precmd date"
  echo "ls"
  echo "cd"
  echo "cd -"
  echo "alias precmd 'echo "coucou"'"
  echo "ls"
  echo "unalias precmd"
[186-END]

[187]
NAME="Testing cwdcmd"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls"
  echo "alias cwdcmd ls"
  echo "echo "test""
  echo "cd"
  echo "cd -"
[187-END]

[188]
NAME="Testing cwdcmd alias and change dir"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "pwd"
  echo "alias cwdcmd echo 'Custom cwdcmd executed'"
  echo "cd"
  echo "cd"
  echo "cd /path/to/nonexistent/directory"
  echo "cd /path/with/space"
  echo "cd /path/to/symlink"
  echo "cd ../relative/path"
  echo "cd /absolute/path"
  echo "cd ~"
  echo "cd -"
  echo "cd .."
  echo "cd ."
  echo "cd /first/path /second/path"
  echo "cd -x"
  echo "cd /path/with/special/characters/!@#$%^&*()_-+=[]{}|;:'\",.<>?"
  echo "cd '/path/with/space and special characters/!@#$%^&*()_-+=[]{}|;:'\",.<>? '"
  echo "unalias cwdcmd"
[188-END]

[189]
NAME="Testing cwdcmd alias and change dir"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "pwd"
  echo "alias cwdcmd echo 'Custom cwdcmd executed'"
  echo "cd /path/to/directory"
  echo "cd /another/path"
  echo "cd /path/with/arguments --option value"
  echo "cd /path/with/pipes | grep keyword"
  echo "cd /path/with/redirection > output.txt"
  echo "cd /path/with/special/characters; rm -rf *"
  echo "cd /path/with/env/variable; echo \$SOME_VARIABLE"
  echo "cd /path/with/command/substitution; echo \$(date)"
  echo "cd /path/with/backticks; echo \`date\`"
  echo "cd /path/with/long/command; echo 'This is a long command that spans multiple lines and should still execute properly'"
  echo "cd /path/with/input/from/file; grep -f pattern.txt file.txt"
  echo "cd /path/with/output/to/file; ls -l > listing.txt"
  echo "unalias cwdcmd"
[189-END]

[190]
NAME="Testing precmd alias"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "alias precmd ls"
  echo "ls"

  echo "pwd"
  echo "cat filename.txt"
  echo "echo PATH"
  echo "whoami"
  echo "echo SHELL"
  echo "echo TERM"
  echo "ls | wc -l"
  echo "unalias precmd"
[190-END]

[191]
NAME="Test job control with other command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "sleep 3 & sleep 3 & ls"
[191-END]

[192]
NAME="Test job control with other unknow command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "sleep 3 & sleep 3 & unknow"
[192-END]

[193]
NAME="Test job control with error"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "unknow & sleep 3 &"
[193-END]

[194]
NAME="Test job control with first pos &"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "& sleep 3 & sleep 3 &"
[194-END]

[195]
NAME="Test with first pos &"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "& ls -l | cat -e"
[195-END]

[196]
NAME="Test set and unset functions"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set oui='  stiti o p    i  '"
  echo "set | grep oui"
  echo "unset oui"
  echo "set | grep oui"
[196-END]

[197]
NAME="Test set and unset functions with pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set oui=stiti"
  echo "set | grep oui"
[197-END]

[198]
NAME="Test set and unset and env functions advanced"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set oui='  stiti o p    i  '"
  echo "set | grep oui"
  echo "unset oui"
  echo "set | grep oui"
  echo "setenv oui '  stiti o p    i  '"
  echo "env | grep oui"
  echo "unsetenv oui"
  echo "env | grep oui"
[198-END]

[199]
NAME="Test set and unset with or"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set oui=stiti || set oui=non"
  echo "set kiwi=stiti || set kiwi=non"
  echo "set | grep oui"
  echo "unset oui || unset kiwi"
  echo "set | grep oui"
  echo "set | grep kiwi"
[199-END]

[200]
NAME="Test set and unset with and"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set oui=stiti && set oui=non"
  echo "ls zee && set kiwi=non"
  echo "set | grep oui"
  echo "unset oui"
  echo "set | grep oui"
  echo "set | grep kiwi"
[200-END]

[201]
NAME="Test set error first char"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set 4a=stiti"
[201-END]

[202]
NAME="Test set error alphanum"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "set ou'i'=stiti"
[202-END]

[203]
NAME="History: tester la simple commande history"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo `$PWD/apagnan`"
  echo "'/bin/ls'"
  echo "ls"
[203-END]

[204]
NAME="History : tester la commande history avec un nombre de ligne"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history 2'
[204-END]

[205]
NAME="History : tester la commande history avec un nombre de ligne mais eloigné"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history       3'
[205-END]

[206]
NAME="History : tester la commande history avec un grand nombre de ligne"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history 60'
[206-END]

[207]
NAME="History : tester la commande history avec une chaine de caractères"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history test'
[207-END]

[208]
NAME="History : tester la commande history avec deux chaine de caractères"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history test test1'
[208-END]

[209]
NAME="History : tester la commande history avec deux nombres"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'ls'
  echo 'ls'
  echo 'ls -a'
  echo 'pwd'
  echo 'whoami'
  echo 'history 5 3'
[209-END]

[210]
NAME="History : tester la commande double point d'exclamation"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'coucou'
  echo 'test'
  echo '!!'
[210-END]

[211]
NAME="History : tester la commande point d'exclamation avec chiffre séparé"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '! 5'
[211-END]

[212]
NAME="History : tester la commande point d'exclamation avec chiffre negatif"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history -5'
[212-END]

[213]
NAME="History : tester la commande point history avec n'importe quoi"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history gfchvjbnk'
[213-END]

[214]
NAME="History : tester la commande ls -a| history"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history | cat -e'
[214-END]

[215]
NAME="History : tester la commande history avec cat -e"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history | cat -e'
[215-END]

[216]
NAME="History : tester la commande history 5 avec cat -e"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history 5 | cat -e'
[216-END]

[217]
NAME="History : tester la commande history redis history.txt"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'history | cat -e > history.txt'
  echo ''
  echo 'rm history.txt'
[217-END]

[218]
NAME="Test glob error"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls *.a"
[218-END]

[219]
NAME="Test glob advanced error and good result"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls *.z *.c *.sh *.h"
[219-END]

[220]
NAME="Test glob with []"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls [t]*sh"
[220-END]

[221]
NAME="Test glob errors"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls [t]*sh *.c"
  echo "ls *.c *.h"
  echo "ls [t]*sh *.c *.h *.sh"
[221-END]

[222]
NAME="Error of \`"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo \`ls"
  echo "echo ls\`"
[222-END]

[223]
NAME="testing simple magic quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo \`ls\`"
  echo "echo \`echo\`"
[223-END]

[224]
NAME="testing simple magic quotes with error"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo \`ls ls\`"
  echo "ls"
[224-END]

[225]
NAME="testing magic quotes with error"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "\`\`"
[225-END]

[226]
NAME="testing magic quotes with pipes and quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "&&"
  echo "echo \`pwd\` | cat -e | wc -c > pwd.txt"
  echo "rm \`ls | grep 'pwd.txt'\` -fr"
  echo "touch 'je suis jules'"
  echo "ls"
  echo "echo; echo"
  echo "echo \`ls | grep jules\`"
  echo "echo; echo"
  echo "rm \`ls | grep 'jules'\` -fr"
  echo "ls"
  echo ";"
[226-END]

[227]
NAME="testing magic quotes with unknown"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo \`ls\`"
  echo "echo \`apagnan\`; echo \`ls\`"
[227-END]

[228]
NAME="testing magic quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "touch 'je suis jules'"
  echo "rm -fr je*"
  echo "echo \`ls -a\`"
  echo "touch "jesuisjuloslecasos""
  echo "ls \`echo\`"
  echo "\`ls\`"
  echo "ls"
  echo "rm -fr \`ls | grep 'je'\`"
[228-END]

[229]
NAME="testing magic quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'/bin/ls -l' | cat -e | wc -c"
  echo "'ls' | cat -e"
  echo "'ls' \`ls\`"
  echo "cat '\`ls\`'"
  echo 'cat "ls"'
  echo "ls `ls`"
[229-END]

[230]
NAME="testing magic quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "\`unknown\`"
  echo "ls \`unknow\`"
  echo "echo \`find . -type f | wc -l\`"
  echo "echo \`find /home -perm -4000\`"
  echo "echo 'apagnan'"
  echo "echo \`echo 'apagnan'\`"
[230-END]

[231]
NAME="testing error"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo ""
  echo "&&"
  echo "|"
  echo "&"
  echo ";"
  echo "||"
  echo "       ;&||&&"
[231-END]

[232]
NAME="testing magic quotes"
SETUP="export TERM=xterm ; PATH=''"
CLEAN=""
TESTS=
  echo "'/bin/ls' \`-l\`"
  echo "/bin/ls `ls` | cat -e"
  echo "alias ls 'echo `/bin/ls`"
[232-END]

[233]
NAME="testing magic quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "touch 'je suis jules'"
  echo "rm je*"
  echo "`ls` -la"
  echo "'echo' `ls -allla`"
  echo "ls"
  echo "`pwd`"
  echo "echo `pwd`"
[233-END]

[234]
NAME="test basic \$value"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$PATH"
  echo -e "echo \$PWD"
  echo "set a=pagnan"
  echo -e "echo \$a"
[234-END]

[235]
NAME="test error \$value illegal var name"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$^a"
  echo "ls"
[235-END]

[236]
NAME="test error \$value undefined var"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$a"
  echo "ls"
[236-END]

[237]
NAME="test basic \$value with quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \"\$PATH\""
  echo -e "echo \"\$PWD\""
  echo "set a=pagnan"
  echo -e "echo \"\$a\""
[237-END]

[238]
NAME="test error \$value illegal var name with quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \"\$^a\""
  echo "ls"
[238-END]

[239]
NAME="test error \$value undefined var with quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \"\$a\""
  echo "ls"
[239-END]

[240]
NAME="test basic \$value with single quotes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo '\$PATH'"
  echo -e "echo '\$PWD'"
  echo "set a=pagnan"
  echo -e "echo '\$a'"
[240-END]

[241]
NAME="test basic \$value with pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$PATH | cat -e | wc -c"
  echo -e "echo \$PWD | cat -e | wc -c"
  echo "set a=pagnan"
  echo -e "echo \$a | cat -e | wc -c"
[241-END]

[242]
NAME="test error \$value illegal var name with pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$^a | cat -e | wc -c"
  echo "ls"
[242-END]

[243]
NAME="test error \$value undefined var with pipes"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$a | cat -e | wc -c"
  echo "ls"
[243-END]

[244]
NAME="test basic \$value with semicolons"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$PATH ; echo \$PWD"
  echo "set a=pagnan"
  echo -e "echo \$a ; echo \$a"
[244-END]

[245]
NAME="test error \$value illegal var name with semicolons"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$^a ; echo \$a"
  echo "ls"
[245-END]

[246]
NAME="test error \$value undefined var with semicolons"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$a ; echo \$a"
  echo "ls"
[246-END]

[247]
NAME="test basic \$value with and"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$PATH && echo \$PWD"
  echo "set a=pagnan"
  echo -e "echo \$a && echo \$a"
[247-END]

[248]
NAME="test error \$value illegal var name with and"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$^a && echo \$a"
  echo "ls"
[248-END]

[249]
NAME="test basic \$value with or"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$PATH || echo \$PWD"
  echo "set a=pagnan"
  echo -e "echo \$a || echo \$a"
[249-END]

[250]
NAME="test error \$value illegal var name with or"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$^a || echo \$a"
  echo "ls"
[250-END]

[251]
NAME="\$ with no value"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo -e "echo \$ | cat -e"
  echo "ls"
[251-END]

[252]
NAME="\$ with no value"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls nofile || ls && ls"
  echo "ls nofile || ls nofile && ls"
  echo "echo `ls` || ls || ls"
[252-END]

[253]
NAME="Testing or with invalid command"
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "pwd -a || ls | cat -e || ls"
  echo "pwd && ls | cat -e; ls & || ls"
  echo "ls"
[253-END]

[254]
NAME="testing or with pipe and && "
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "'ls' -la && ls | cat -e && ls nofile || ls | cat -e"
[254-END]

[255]
NAME="testing or with pipe and && "
SETUP="export TERM=xterm ; PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo '"/bin/ls" -la; LS; ls | cat -e && ls nofile || ls nofile || "wapagan" || ls'
[255-END]

[256]
NAME="testing command with $value "
SETUP="export TERM=xterm ;PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls -la"
  echo "alias ls ls --color=auto"
  echo "where ls | cat -e"
  echo "where unknown"
  echo "whoami $USER"
  echo "env | grep $PWD"
[256-END]

[257]
NAME="testing command with $value "
SETUP="export TERM=xterm ;PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "ls -la"
  echo "alias ls ls --color=auto"
  echo "where ls | cat -e"
  echo "where unknown"
  echo "whoami $USER"
  echo "env | grep $PWD"
[257-END]

[258]
NAME="testing command with $value "
SETUP="export TERM=xterm ;PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "echo $(1 - 2)"
  echo "echo $? | cat -e"
  echo "ls nofile | cat -e"
  echo "ls $?"
  echo "$?"
[258-END]

[259]
NAME="testing command with $value "
SETUP="export TERM=xterm ;PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo "where where"
  echo "echo $?"
  echo "which where"
  echo "where which"
  echo "alias ls ls --color=auto"
  echo "where ls"
  echo "which ls"
  echo "where echo"
  echo "where ls apagnan"
  echo "where 'where'"
  echo "where ls"
  echo "where env"
  echo "which env"
[259-END]
